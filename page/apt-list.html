<!DOCTYPE html>
<html ng-app="apt-list">
    <head>
        <meta charset="utf-8">
        <title>Apartment list</title>
        <script src="../lib/js/angular.js"></script>
        <script src="../lib/js/angular-animate.js"></script>
        <script src="../lib/js/angular-sanitize.js"></script>
        <script src="../lib/js/ui-bootstrap-tpls-3.0.6.min.js"></script>
        <script src="../lib/js/jquery.min.js"></script>
        <link href="../lib/css/font-awesome-4.7.0/css/font-awesome.css" rel="stylesheet" type="text/css">
        <link href="../lib/css/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="../lib/css/bootstrap.css" rel="stylesheet" type="text/css">
        <link href="../lib/css/style-apt-list.css" rel="stylesheet" type="text/css">
    </head>
    <body ng-controller="index_ctrl" class="index-back">
        <nav class="navbar navbar-expand-md navbar-dark bg-dark">
            <div class="navbar-header">
                <a class="navbar-brand">XxxX</a>
            </div>
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" ng-click="to_login()">{{navbutton1}}</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" ng-click="to_signup()">{{navbutton2}}</a>
                </li>
            </ul>
        </nav>

        <div class="container-fluid d-flex justify-content-between">
            <div class="container-fluid" style="width: 60%;">
                <div class="input-group input-group-lg pt-5">
                    <!-- <div class="input-group-prepend">
                        <span class="input-group-text fa fa-search"></span>
                    </div> -->
                    <input class="form-control" type="text" placeholder="Type to search" name="searchbar">
                    <div>
                        <button class="btn btn-warning" style="height: 48px; width: 48px;" ng-click="to_aptlist()"><i class="fa fa-search"></i></button>
                    </div>
                </div>
                <div class="container-fluid mt-5" style="width: 100%; display: flex; justify-content: center; align-items: center">
                    <img class="mapimage" src="../src/map.PNG" alt="map" style="width: 100%; height: auto">
                </div>
            </div>
            <div class="container-fluid">
                <div class="selectbox mt-5">
                    <div class="selediv mt-2 ml-0">
                        <div class="selemenu">
                            <span class="sqinput">Waterloo</span>
                            <span class="csinput"></span>
                        </div>
                        <div class="big-list">
                            <div class="choose-reigon">
                                <div class="label">City</div>
                                <ul class="city-list">
                                    <li class="active">Waterloo</li>
                                    <li>Kitchener</li>
                                    <li>Guelph</li>
                                    <li>Stratford</li>
                                    <li>Hamilton</li>
                                    <li>London</li>
                                </ul>
                             </div>
                            <!-- <div class="choose-reigon">
                                <div class="label">Region</div>
                                <ul class="region-list">
                                    <li>Region</li>
                                    <li>Region</li>
                                    <li>Region</li>
                                    <li>Region</li>
                                </ul>
                            </div> -->
                        </div>
                    </div>
                    <div class="selediv mt-2 ml-0">
                        <div class="selemenu">Available time</div>
                        <div class="time-list">
                            <div ng-controller="DatepickerCtrl">
                                <div style="display:inline-block; min-height:290px;">
                                  <div uib-datepicker ng-model="dt" class="card" datepicker-options="options"></div>
                                </div>
                            
                                <hr />
                                <button type="button" class="btn btn-sm btn-info" ng-click="today()">Today</button>
                                <button type="button" class="btn btn-sm btn-danger" ng-click="clear()">Clear</button>
                                <button type="button" class="btn btn-sm btn-secondary" ng-click="toggleMin()" uib-tooltip="After today restriction">Min date</button>
                            </div>
                        </div>
                    </div>
                    <div class="selediv mt-2 ml-0">
                        <div class="selemenu">Price</div>
                        <div class="small-list">
                            <span><400</span>
                            <span>400~600</span>
                            <span>600~800</span>
                            <span>800~1000</span>
                            <span>>1000</span>
                        </div>
                    </div>
                    <div class="selediv mt-2 ml-0">
                        <div class="selemenu">Utilities Included</div>
                        <div class="small-list">
                            <span>Yes</span>
                            <span>No</span>
                        </div>
                    </div>
                </div>
                <div class="container-fluid">
                    <dl class="info-region mt-5" style="padding: 1%;">
                        <dt class="info" style="margin-bottom: 3%; font-size: 15px; font-weight: 500;">
                            <div class="box d-flex justify-content-between">
                                <div class="info-image" style="width: 30%;">
                                    <img src="../src/house.jpg" alt="house-image" style="width: 100%; height: auto">
                                </div>
                                <div class="info-details d-flex justify-content-between" style="width: 50%;">
                                    <div class="box1">
                                        <ul>
                                            <a class="list-link" ng-click="to_aptinfo()">L Street 123, Waterloo, ON</a>
                                            <li>Available: Jan, 2021</li>
                                            <li>Required Tenancy: 8 month(s)</li>
                                            <li>Max Allowed Tenancy: 12 month(s)</li>
                                            <li>Vacancies: 1 of 2 total</li>
                                            <li>Building Type: House</li>
                                            <li>Utilities Included | Parking Included</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="info-price" style="width: 10%; text-align: center; line-height: 146px;">
                                    <p>$550</p>
                                </div>
                                <div class="info-like" style="width: 5%;">
                                    <i class="like fa fa-star"></i>
                                </div>
                            </div>
                        </dt>
                        <dt class="info" style="margin-bottom: 3%; font-size: 15px; font-weight: 500;">
                            <div class="box d-flex justify-content-between">
                                <div class="info-image" style="width: 30%;">
                                    <img src="../src/house.jpg" alt="house-image" style="width: 100%; height: auto">
                                </div>
                                <div class="info-details d-flex justify-content-between" style="width: 50%;">
                                    <div class="box1">
                                        <ul>
                                            <a class="list-link" ng-click="to_aptinfo()">L Street 123, Waterloo, ON</a>
                                            <li>Available: Jan, 2021</li>
                                            <li>Required Tenancy: 8 month(s)</li>
                                            <li>Max Allowed Tenancy: 12 month(s)</li>
                                            <li>Vacancies: 1 of 2 total</li>
                                            <li>Building Type: House</li>
                                            <li>Utilities Included | Parking Included</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="info-price" style="width: 10%; text-align: center; line-height: 146px;">
                                    <p>$550</p>
                                </div>
                                <div class="info-like" style="width: 5%;">
                                    <i class="like fa fa-star"></i>
                                </div>
                            </div>
                        </dt>
                        <dt class="info" style="margin-bottom: 3%; font-size: 15px; font-weight: 500;">
                            <div class="box d-flex justify-content-between">
                                <div class="info-image" style="width: 30%;">
                                    <img src="../src/house.jpg" alt="house-image" style="width: 100%; height: auto">
                                </div>
                                <div class="info-details d-flex justify-content-between" style="width: 50%;">
                                    <div class="box1">
                                        <ul>
                                            <a class="list-link" ng-click="to_aptinfo()">L Street 123, Waterloo, ON</a>
                                            <li>Available: Jan, 2021</li>
                                            <li>Required Tenancy: 8 month(s)</li>
                                            <li>Max Allowed Tenancy: 12 month(s)</li>
                                            <li>Vacancies: 1 of 2 total</li>
                                            <li>Building Type: House</li>
                                            <li>Utilities Included | Parking Included</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="info-price" style="width: 10%; text-align: center; line-height: 146px;">
                                    <p>$550</p>
                                </div>
                                <div class="info-like" style="width: 5%;">
                                    <i class="like fa fa-star"></i>
                                </div>
                            </div>
                        </dt>
                        <dt class="info" style="margin-bottom: 3%; font-size: 15px; font-weight: 500;">
                            <div class="box d-flex justify-content-between">
                                <div class="info-image" style="width: 30%;">
                                    <img src="../src/house.jpg" alt="house-image" style="width: 100%; height: auto">
                                </div>
                                <div class="info-details d-flex justify-content-between" style="width: 50%;">
                                    <div class="box1">
                                        <ul>
                                            <a class="list-link" ng-click="to_aptinfo()">L Street 123, Waterloo, ON</a>
                                            <li>Available: Jan, 2021</li>
                                            <li>Required Tenancy: 8 month(s)</li>
                                            <li>Max Allowed Tenancy: 12 month(s)</li>
                                            <li>Vacancies: 1 of 2 total</li>
                                            <li>Building Type: House</li>
                                            <li>Utilities Included | Parking Included</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="info-price" style="width: 10%; text-align: center; line-height: 146px;">
                                    <p>$550</p>
                                </div>
                                <div class="info-like" style="width: 5%;">
                                    <i class="like fa fa-star"></i>
                                </div>
                            </div>
                        </dt>
                        <dt class="info" style="margin-bottom: 3%; font-size: 15px; font-weight: 500;">
                            <div class="box d-flex justify-content-between">
                                <div class="info-image" style="width: 30%;">
                                    <img src="../src/house.jpg" alt="house-image" style="width: 100%; height: auto">
                                </div>
                                <div class="info-details d-flex justify-content-between" style="width: 50%;">
                                    <div class="box1">
                                        <ul>
                                            <a class="list-link" ng-click="to_aptinfo()">L Street 123, Waterloo, ON</a>
                                            <li>Available: Jan, 2021</li>
                                            <li>Required Tenancy: 8 month(s)</li>
                                            <li>Max Allowed Tenancy: 12 month(s)</li>
                                            <li>Vacancies: 1 of 2 total</li>
                                            <li>Building Type: House</li>
                                            <li>Utilities Included | Parking Included</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="info-price" style="width: 10%; text-align: center; line-height: 146px;">
                                    <p>$550</p>
                                </div>
                                <div class="info-like" style="width: 5%;">
                                    <i class="like fa fa-star"></i>
                                </div>
                            </div>
                        </dt>
                    </dl>
                </div>
            </div>
        </div>  
        
        <script type="text/ng-template" id="login.html">
            <div class="modal-header justify-content-center">
                <h2 class="modal-title">Log in</h2>
            </div>
            <div class="modal-body">
                <form class="container" name="login_form">
                    <div class="form-group mb-2">
                        <input class="form-control form-control-lg" type="email" placeholder="Enter email" name="login_email" ng-focus="f_ine()" ng-model="user_in.email" required>
                        <span class="text-danger pl-17p" ng-show="login_email_err()">{{login_email_errmsg()}}</span>
                    </div>
                    <div class="form-group mb-2">
                        <input class="form-control form-control-lg" type="{{typepwd ? 'text':'password'}}" placeholder="Enter password" name="login_pwd" ng-focus="f_inp()" ng-model="user_in.pwd" required>
                        <span class="form-control-eye" ng-show="!login_form.login_pwd.$error.required" ng-class="{'fa fa-eye': typepwd, 'fa fa-eye-slash': !typepwd}" ng-click="togglepwd()"></span>
                        <span class="text-danger pl-17p" ng-show="login_pwd_err()">{{login_pwd_errmsg()}}</span>
                    </div>
                    <div class="form-group form-check text-right mb-0">
                        <input class="form-check-input" type="checkbox" name="remember" ng-model="remember">Remember
                    </div>
                </form>
            </div>
            <div class="modal-footer justify-content-between">
                <button class="btn btn-link invisible" type="button">Create Account</button>
                <button class="btn btn-primary" type="button" ng-disabled="login_disable()" ng-click="login_click()">Login</button>
                <button class="btn btn-link" type="button" ng-click="to_signup()">Create Account</button>
            </div>
        </script>
        <script type="text/ng-template" id="signup.html">
            <div class="modal-header justify-content-center">
                <h2 class="modal-title">Sign up</h2>
            </div>
            <div class="modal-body">
                <form class="container" name="signup_form">
                    <div class="form-group mb-1">
                        <label>Email</label>
                        <input class="form-control" type="email" name="signup_email" ng-focus="f_upe()" ng-model="user_up.email" required>
                        <span class="text-danger pl-13p" ng-show="signup_email_err()">{{signup_email_errmsg()}}</span>
                    </div>
                    <div class="form-group mb-1">
                        <label>Username</label>
                        <input class="form-control" type="text" name="signup_name" ng-focus="f_upn()" ng-model="user_up.nickname" required>
                        <span class="text-danger pl-13p" ng-show="signup_name_err()">{{signup_name_errmsg()}}</span>
                    </div>
                    <div class="form-group mb-1">
                        <label>Password</label>
                        <input class="form-control" type="{{typepwd ? 'text':'password'}}" name="signup_pwd" ng-pattern="pattern_pwd" ng-model="user_up.pwd" required>
                        <span class="form-control-eye s-eye" ng-show="!signup_form.signup_pwd.$error.required" ng-class="{'fa fa-eye': typepwd, 'fa fa-eye-slash': !typepwd}" ng-click="togglepwd()"></span>
                        <span class="text-danger pl-13p" ng-show="signup_pwd_err()">{{signup_pwd_errmsg()}}</span>
                    </div>
                </form>
            </div>
            <div class="modal-footer justify-content-between">
                <button class="btn btn-link invisible" type="button">Login</button>
                <button class="btn btn-primary" type="button" ng-disabled="signup_disable()" ng-click="signup_click()">Create Account</button>
                <button class="btn btn-link" type="button" ng-click="to_login()">Login</button>
            </div>
        </script>
        
        <script src="../ctrl/common/httpservice.js"></script>
        <script src="../ctrl/index.js"></script>
        <script src="../ctrl/datepicker.js"></script>

        <!-- script for select -->
        <script>
            $(".selemenu").click(function(){
                $(this).next().slideToggle();
                $(this).parents().siblings().find(".small-list,.big-list").slideUp();
            })
            $(".small-list span").click(function(){
                var text=$(this).text();
                $(this).parent().prev().html(text);
                $(this).parent().prev().css("color","#666")
                $(this).parent().slideUp();
            })
            $(".city-list li").click(function(){
                $(".city-list li").removeClass("active")
                $(this).addClass("active")
                var text1=$(this).text();
                $(".sqinput").html(text1)
                $(".big-list").slideUp();
            })
            $(".region-list li").click(function(){
                $(".region-list li").removeClass("active")
                $(this).addClass("active")
                var text2=$(this).text();
                $(".csinput").html("-"+text2)
                $(".big-list").slideUp();
            })
            $(function(){
                $(document).not($(".selectbox")).click(function(){
                    $(".small-list,.big-list").slideUp();
                })
                $(".selectbox").click(function(event){
                    event.stopPropagation();
                })
            })
        </script>

        <!-- script for like -->
        <script>
            $(".like").click(function(){
                $(this).toggleClass('cs');                
            })
        </script>
    </body>
</html>